#### **** Configuracao do ambiente **** ####
setwd("~/Downloads/projeto final Coursera/")
loadlibrary <- function(x) {
if (!require(x,character.only = TRUE)) {
install.packages(x, repos='http://cran.us.r-project.org', dep=TRUE)
if(!require(x,character.only = TRUE)) stop("Package not found")
}
}
loadlibrary("dplyr")
## 1. Merges the training and the test sets to create one data set.
x_train <- read.table(file = "UCI HAR Dataset/train/X_train.txt", header = FALSE, sep = "")
label <- read.table(file = "UCI HAR Dataset/train/y_train.txt", header = FALSE, sep = "", col.names = "label")
x_train <- cbind(x_train, label)
x_test <- read.table(file = "UCI HAR Dataset/test/X_test.txt", header = FALSE, sep = "")
label <- read.table(file = "UCI HAR Dataset/test/y_test.txt", header = FALSE, sep = "", col.names = "label")
x_test <- cbind(x_test, label)
merged <- rbind(x_train, x_test)
## 2. Extracts only the measurements on the mean and standard deviation for each measurement.
column_mean <- apply(merged, 2, mean)
column_standard_deviation <- apply(merged, 2, sd)
## 3. Uses descriptive activity names to name the activities in the data set
library(dplyr)
string_label <- read.table(file = "UCI HAR Dataset/activity_labels.txt", header = FALSE, sep = "", stringsAsFactors = FALSE)
merged_labeled <- left_join(merged, string_label, by=c("label" = "V1"))
View(merged_labeled)
## 4. Appropriately labels the data set with descriptive variable names.
features <- read.table(file = "UCI HAR Dataset/features.txt", header = FALSE, sep = "", stringsAsFactors = FALSE)
features <- rbind(features, c(nrow(features) + 1, "label"))
features <- rbind(features, c(nrow(features) + 1, "activity"))
colnames(merged_labeled) <- features$V2
View(merged_labeled)
View(merged_labeled)
## 5. From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.
aggregate(merged_labeled[1:561], FUN = mean)
## 5. From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.
aggregate(merged_labeled[ , 1:561], merged_labeled$label, FUN = mean)
?agregate
?aggregate
View(merged_labeled)
aggregate(merged_labeled, by=merged_labeled$label, FUN = mean)
aggregate(merged_labeled[, 1:561], by=merged_labeled$label, FUN = mean)
aggregate(merged_labeled[, 1:561], by=list(merged_labeled$label), FUN = mean)
View(merged_labeled)
## 5. From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.
aggregate(merged_labeled[, 1:561], by=list("label", "activity"), FUN = mean)
aggregate(merged_labeled[, 1:561], by=list(merged_labeled$label, merged_labeled$activity), FUN = mean)
